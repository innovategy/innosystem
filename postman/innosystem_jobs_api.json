{
	"item": [
		{
			"name": "Job Management",
			"item": [
				{
					"name": "Get All Jobs",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{customer_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/jobs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"jobs"
							]
						},
						"description": "Get all jobs belonging to the authenticated customer.\n\nAuthorization required: Customer token"
					},
					"response": [
						{
							"name": "Jobs List",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/jobs",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": \"00000000-0000-0000-0000-000000000001\",\n        \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"customer_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"status\": \"Completed\",\n        \"priority\": 1,\n        \"input_data\": {\"source\": \"s3://bucket/image.jpg\", \"options\": {\"resize\": \"800x600\"}},\n        \"output_data\": {\"processed\": \"s3://bucket/processed/image.jpg\"},\n        \"error\": null,\n        \"created_at\": \"2025-04-08T10:15:30Z\",\n        \"updated_at\": \"2025-04-08T10:18:45Z\",\n        \"estimated_cost_cents\": 150,\n        \"actual_cost_cents\": 125,\n        \"assigned_runner_id\": \"00000000-0000-0000-0000-000000000001\"\n    },\n    {\n        \"id\": \"00000000-0000-0000-0000-000000000002\",\n        \"job_type_id\": \"00000000-0000-0000-0000-000000000002\",\n        \"customer_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"status\": \"Running\",\n        \"priority\": 2,\n        \"input_data\": {\"source\": \"s3://bucket/video.mp4\", \"format\": \"mp4\", \"resolution\": \"1080p\"},\n        \"output_data\": null,\n        \"error\": null,\n        \"created_at\": \"2025-04-09T14:30:00Z\",\n        \"updated_at\": \"2025-04-09T14:30:05Z\",\n        \"estimated_cost_cents\": 450,\n        \"actual_cost_cents\": null,\n        \"assigned_runner_id\": \"00000000-0000-0000-0000-000000000002\"\n    },\n    {\n        \"id\": \"00000000-0000-0000-0000-000000000003\",\n        \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"customer_id\": \"00000000-0000-0000-0000-000000000001\",\n        \"project_id\": \"00000000-0000-0000-0000-000000000002\",\n        \"status\": \"Failed\",\n        \"priority\": 1,\n        \"input_data\": {\"source\": \"s3://bucket/corrupted.jpg\"},\n        \"output_data\": null,\n        \"error\": \"Source file corrupted or unreadable\",\n        \"created_at\": \"2025-04-07T18:45:22Z\",\n        \"updated_at\": \"2025-04-07T18:46:15Z\",\n        \"estimated_cost_cents\": 150,\n        \"actual_cost_cents\": 38,\n        \"assigned_runner_id\": \"00000000-0000-0000-0000-000000000003\"\n    }\n]"
						}
					]
				},
				{
					"name": "Create Job",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{customer_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"priority\": 1,\n    \"input_data\": {\n        \"source\": \"s3://bucket/image.jpg\",\n        \"options\": {\n            \"resize\": \"800x600\",\n            \"format\": \"png\",\n            \"quality\": 90\n        }\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/jobs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"jobs"
							]
						},
						"description": "Create a new job for processing.\n\nAuthorization required: Customer token"
					},
					"response": [
						{
							"name": "Job Created",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"priority\": 1,\n    \"input_data\": {\n        \"source\": \"s3://bucket/image.jpg\",\n        \"options\": {\n            \"resize\": \"800x600\",\n            \"format\": \"png\",\n            \"quality\": 90\n        }\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/jobs",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"00000000-0000-0000-0000-000000000004\",\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"customer_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"status\": \"Pending\",\n    \"priority\": 1,\n    \"input_data\": {\"source\": \"s3://bucket/image.jpg\", \"options\": {\"resize\": \"800x600\", \"format\": \"png\", \"quality\": 90}},\n    \"output_data\": null,\n    \"error\": null,\n    \"created_at\": \"2025-04-09T16:52:15Z\",\n    \"updated_at\": \"2025-04-09T16:52:15Z\",\n    \"estimated_cost_cents\": 150,\n    \"actual_cost_cents\": null,\n    \"assigned_runner_id\": null\n}"
						},
						{
							"name": "Insufficient Funds",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"priority\": 1,\n    \"input_data\": {\n        \"source\": \"s3://bucket/image.jpg\",\n        \"options\": {\n            \"resize\": \"800x600\",\n            \"format\": \"png\",\n            \"quality\": 90\n        }\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/jobs",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs"
									]
								}
							},
							"status": "Payment Required",
							"code": 402,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"error\": \"Insufficient funds in wallet. Required: 150 cents, Available: 100 cents\",\n    \"estimated_cost_cents\": 150,\n    \"available_balance_cents\": 100\n}"
						}
					]
				},
				{
					"name": "Get Job by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{customer_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/jobs/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"jobs",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "00000000-0000-0000-0000-000000000001",
									"description": "UUID of the job"
								}
							]
						},
						"description": "Get details of a specific job by ID.\n\nAuthorization required: Customer token (must be the owner of the job)"
					},
					"response": [
						{
							"name": "Job Details",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/jobs/:id",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "00000000-0000-0000-0000-000000000001"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"00000000-0000-0000-0000-000000000001\",\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"customer_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"project_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"status\": \"Completed\",\n    \"priority\": 1,\n    \"input_data\": {\"source\": \"s3://bucket/image.jpg\", \"options\": {\"resize\": \"800x600\"}},\n    \"output_data\": {\"processed\": \"s3://bucket/processed/image.jpg\"},\n    \"error\": null,\n    \"created_at\": \"2025-04-08T10:15:30Z\",\n    \"updated_at\": \"2025-04-08T10:18:45Z\",\n    \"estimated_cost_cents\": 150,\n    \"actual_cost_cents\": 125,\n    \"assigned_runner_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"processing_time_ms\": 185423,\n    \"job_type\": {\n        \"id\": \"00000000-0000-0000-0000-000000000001\",\n        \"name\": \"Image Processing\",\n        \"description\": \"Process and transform images\",\n        \"processor_type\": \"GPU\"\n    }\n}"
						}
					]
				},
				{
					"name": "Calculate Job Cost",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{customer_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"input_data\": {\n        \"source\": \"s3://bucket/image.jpg\",\n        \"options\": {\n            \"resize\": \"800x600\",\n            \"format\": \"png\",\n            \"quality\": 90\n        }\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/jobs/cost/calculate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"jobs",
								"cost",
								"calculate"
							]
						},
						"description": "Calculate the estimated cost for a job without creating it.\n\nAuthorization required: Customer token"
					},
					"response": [
						{
							"name": "Cost Calculation",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"job_type_id\": \"00000000-0000-0000-0000-000000000001\",\n    \"input_data\": {\n        \"source\": \"s3://bucket/image.jpg\",\n        \"options\": {\n            \"resize\": \"800x600\",\n            \"format\": \"png\",\n            \"quality\": 90\n        }\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/jobs/cost/calculate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs",
										"cost",
										"calculate"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"estimated_cost_cents\": 150,\n    \"job_type\": \"Image Processing\",\n    \"base_cost_cents\": 100,\n    \"additional_costs\": [\n        {\n            \"description\": \"High quality option\",\n            \"amount_cents\": 50\n        }\n    ],\n    \"wallet_balance_cents\": 2500\n}"
						}
					]
				},
				{
					"name": "Complete Job (External Runner)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{customer_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"job_id\": \"00000000-0000-0000-0000-000000000002\",\n    \"success\": true,\n    \"output_data\": {\n        \"processed\": \"s3://bucket/processed/video.mp4\",\n        \"metadata\": {\n            \"duration\": 305,\n            \"format\": \"mp4\",\n            \"bitrate\": \"5 Mbps\"\n        }\n    },\n    \"error\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/jobs/complete",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"jobs",
								"complete"
							]
						},
						"description": "Mark a job as completed and provide results.\nUsually called by runners but can also be used by authorized clients.\n\nAuthorization required: Customer token (job owner) or Runner token"
					},
					"response": [
						{
							"name": "Job Completed Successfully",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"job_id\": \"00000000-0000-0000-0000-000000000002\",\n    \"success\": true,\n    \"output_data\": {\n        \"processed\": \"s3://bucket/processed/video.mp4\",\n        \"metadata\": {\n            \"duration\": 305,\n            \"format\": \"mp4\",\n            \"bitrate\": \"5 Mbps\"\n        }\n    },\n    \"error\": null\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/jobs/complete",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs",
										"complete"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"00000000-0000-0000-0000-000000000002\",\n    \"status\": \"Completed\",\n    \"updated_at\": \"2025-04-09T16:54:22Z\",\n    \"actual_cost_cents\": 425,\n    \"message\": \"Job completed successfully and customer billed 425 cents\"\n}"
						},
						{
							"name": "Job Failed",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"job_id\": \"00000000-0000-0000-0000-000000000002\",\n    \"success\": false,\n    \"output_data\": null,\n    \"error\": \"Processing failed: Input file corrupted or format not supported\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/jobs/complete",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"jobs",
										"complete"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"00000000-0000-0000-0000-000000000002\",\n    \"status\": \"Failed\",\n    \"updated_at\": \"2025-04-09T16:54:22Z\",\n    \"actual_cost_cents\": 113,\n    \"message\": \"Job failed but customer still billed 113 cents (25% of estimated cost)\"\n}"
						}
					]
				}
			]
		}
	]
}
